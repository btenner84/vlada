# Web Monitoring & File Extraction Tool

A self-hosted tool that monitors webpages for updates, detects new or updated file links (PDFs, CSVs, Excel, etc.), downloads those files into an organized local folder structure, and notifies an administrator when changes occur.

## Features

- Monitor webpages for changes with configurable intervals
- Detect new or updated file links (PDFs, CSVs, Excel, etc.)
- Download files automatically into an organized folder structure
- Receive notifications via web dashboard, email, and SMS
- View history of changes and downloaded files
- Secure admin authentication
- **Smart Extraction**: Use AI to understand what to extract from a webpage based on natural language descriptions and screenshots

## Tech Stack

- **Backend**: FastAPI with SQLAlchemy
- **Frontend**: Svelte with Tailwind CSS
- **Database**: PostgreSQL
- **Job Queue**: Redis with Arq
- **Web Scraping**: BeautifulSoup, Playwright
- **Notifications**: SMTP (Email), Twilio (SMS)
- **AI**: OpenAI API for smart extraction

## Setup

### Prerequisites

- Docker and Docker Compose

### Development Setup

1. Clone the repository:
   ```
   git clone <repository-url>
   cd web-monitor
   ```

2. Create a `.env` file with your configuration (copy from `.env.example`).

3. Start the development environment:
   ```
   docker-compose up -d
   ```

4. Access the application:
   - API: http://localhost:8000
   - API Documentation: http://localhost:8000/docs

### Production Setup

For production deployment, additional steps are recommended:

1. Change all default passwords and secrets in the `.env` file
2. Set up HTTPS with a reverse proxy (Nginx, Traefik)
3. Configure proper backups for the database and downloaded files
4. Set up monitoring for the services

## Project Structure

```
app/
├── api/              # FastAPI routes
├── core/             # Core business logic
│   ├── monitoring/   # Page monitoring logic
│   ├── extractors/   # File extraction modules
│   ├── ai/           # AI integration for smart extraction
│   └── notifications/# Email/SMS components
├── db/               # Database models and connections
├── scheduler/        # Background job handling
├── config/           # Environment and configuration
├── templates/        # HTML templates
└── frontend/         # Svelte application
```

## Using Smart Extraction

The Smart Extraction feature allows you to:

1. Input a URL and describe what you want to extract in natural language
2. Optionally upload a screenshot of the webpage to help the AI understand
3. Review the extraction plan generated by the AI
4. Confirm to start monitoring the page

To use this feature:

1. Navigate to http://localhost:8000/smart-extract
2. Enter the URL and describe what you want to extract
3. Upload a screenshot if needed
4. Review the extraction plan and confirm

## License

MIT 